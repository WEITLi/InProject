# ç³»ç»Ÿæ¶æ„è¯´æ˜

## ğŸ—ï¸ æ•´ä½“æ¶æ„å›¾

```
å†…éƒ¨å¨èƒæ£€æµ‹ç‰¹å¾æå–ç³»ç»Ÿ - æ¨¡å—åŒ–æ¶æ„

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        è¾“å…¥å±‚ (Input Layer)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  äº‹ä»¶æ•°æ® (Events)        â”‚        ç”¨æˆ·æ•°æ® (Users)              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ type, date,     â”‚     â”‚     â”‚ role, dept,         â”‚         â”‚
â”‚  â”‚ user, pc,       â”‚     â”‚     â”‚ ITAdmin, OCEAN,     â”‚         â”‚
â”‚  â”‚ content, ...    â”‚     â”‚     â”‚ pc_type, ...        â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ ¸å¿ƒç¼–ç å±‚ (Core Encoding)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    EventEncoder (core_logic/encoder.py)        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚               ç»Ÿä¸€äº‹ä»¶ç¼–ç æ¥å£                               â”‚ â”‚
â”‚  â”‚  â€¢ fit() - æ‹Ÿåˆç¼–ç å™¨å‚æ•°                                   â”‚ â”‚
â”‚  â”‚  â€¢ encode_event() - ç¼–ç å•ä¸ªäº‹ä»¶                            â”‚ â”‚
â”‚  â”‚  â€¢ encode_event_sequence() - ç¼–ç äº‹ä»¶åºåˆ—                   â”‚ â”‚
â”‚  â”‚  â€¢ ç‰ˆæœ¬å…¼å®¹å¤„ç† (r4.2/r5.2/r6.2)                           â”‚ â”‚
â”‚  â”‚  â€¢ maskæœºåˆ¶å¤„ç†ç¼ºå¤±æ•°æ®                                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç‰¹å¾æå–å±‚ (Feature Extraction)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   æ—¶é—´ç‰¹å¾   â”‚ â”‚  ç”¨æˆ·ä¸Šä¸‹æ–‡   â”‚ â”‚   äº‹ä»¶ç‰¹å¾   â”‚ â”‚   å·¥å…·æ¨¡å—   â”‚ â”‚
â”‚ â”‚             â”‚ â”‚             â”‚ â”‚             â”‚ â”‚             â”‚ â”‚
â”‚ â”‚core_logic/  â”‚ â”‚core_logic/  â”‚ â”‚core_logic/  â”‚ â”‚core_logic/  â”‚ â”‚
â”‚ â”‚temporal.py  â”‚ â”‚user_context.â”‚ â”‚email.py     â”‚ â”‚  utils.py   â”‚ â”‚
â”‚ â”‚            â”‚ â”‚py           â”‚ â”‚file.py      â”‚ â”‚             â”‚ â”‚
â”‚ â”‚â€¢ å·¥ä½œæ—¶é—´   â”‚ â”‚â€¢ è§’è‰²å±‚çº§    â”‚ â”‚http.py      â”‚ â”‚â€¢ æ ‡å‡†åŒ–å™¨   â”‚ â”‚
â”‚ â”‚â€¢ ä¼šè¯æ—¶é•¿   â”‚ â”‚â€¢ éƒ¨é—¨æƒé™    â”‚ â”‚device.py    â”‚ â”‚â€¢ ç¼–ç å™¨     â”‚ â”‚
â”‚ â”‚â€¢ æ—¶é—´æ¨¡å¼   â”‚ â”‚â€¢ OCEANç‰¹å¾  â”‚ â”‚â€¢ é¢†åŸŸä¸“ç”¨   â”‚ â”‚â€¢ åˆ†ç®±å·¥å…·   â”‚ â”‚
â”‚ â”‚â€¢ å‘¨æœŸç¼–ç    â”‚ â”‚â€¢ é£é™©ç”»åƒ    â”‚ â”‚â€¢ å¼‚å¸¸æ£€æµ‹   â”‚ â”‚â€¢ æ–‡æœ¬å¤„ç†   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      è¾“å‡ºå±‚ (Output Layer)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   ç‰¹å¾å‘é‡      â”‚     â”‚   maskå‘é‡      â”‚     â”‚   é£é™©è¯„åˆ†      â”‚ â”‚
â”‚  â”‚                â”‚     â”‚                â”‚     â”‚                â”‚ â”‚
â”‚  â”‚ å›ºå®šé•¿åº¦æ•°å€¼å‘é‡ â”‚     â”‚ å¸ƒå°”æ©ç æ ‡è®°     â”‚     â”‚ å¼‚å¸¸æ¨¡å¼è¯„åˆ†     â”‚ â”‚
â”‚  â”‚ (é»˜è®¤256ç»´)     â”‚     â”‚ æœ‰æ•ˆ/ç¼ºå¤±ç‰¹å¾    â”‚     â”‚ (0.0-1.0)      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ æ•°æ®æµå›¾

```
æ•°æ®å¤„ç†æµç¨‹ (Data Processing Pipeline)

åŸå§‹äº‹ä»¶ â†’ æ•°æ®é¢„å¤„ç† â†’ ç‰¹å¾æå– â†’ å‘é‡åŒ– â†’ è¾“å‡º
    â”‚           â”‚           â”‚          â”‚        â”‚
    â”‚           â”‚           â”‚          â”‚        â–¼
    â”‚           â”‚           â”‚          â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           â”‚           â”‚          â”‚   â”‚ å›ºå®šé•¿åº¦å‘é‡ â”‚
    â”‚           â”‚           â”‚          â”‚   â”‚ + mask     â”‚
    â”‚           â”‚           â”‚          â”‚   â”‚ + é£é™©è¯„åˆ†  â”‚
    â”‚           â”‚           â”‚          â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚           â”‚           â”‚          â”‚
    â”‚           â”‚           â”‚          â–¼
    â”‚           â”‚           â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           â”‚           â”‚     â”‚   ç»´åº¦è°ƒæ•´    â”‚
    â”‚           â”‚           â”‚     â”‚ â€¢ å¡«å……/æˆªæ–­   â”‚
    â”‚           â”‚           â”‚     â”‚ â€¢ æ ‡å‡†åŒ–     â”‚
    â”‚           â”‚           â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚           â”‚           â”‚
    â”‚           â”‚           â–¼
    â”‚           â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           â”‚      â”‚   ç‰¹å¾æ‹¼æ¥       â”‚
    â”‚           â”‚      â”‚ â€¢ æ—¶é—´ç‰¹å¾      â”‚
    â”‚           â”‚      â”‚ â€¢ ç”¨æˆ·ç‰¹å¾      â”‚
    â”‚           â”‚      â”‚ â€¢ äº‹ä»¶ç‰¹å¾      â”‚
    â”‚           â”‚      â”‚ â€¢ ç±»å‹ç‰¹å¾      â”‚
    â”‚           â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚           â”‚
    â”‚           â–¼
    â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      â”‚    æ•°æ®æ¸…æ´—       â”‚
    â”‚      â”‚ â€¢ æ—¶é—´æˆ³è§£æ      â”‚
    â”‚      â”‚ â€¢ ç¼ºå¤±å€¼å¤„ç†      â”‚
    â”‚      â”‚ â€¢ æ ¼å¼æ ‡å‡†åŒ–      â”‚
    â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      åŸå§‹æ•°æ®          â”‚
â”‚ â€¢ äº‹ä»¶è®°å½• (CSV/JSON)  â”‚
â”‚ â€¢ ç”¨æˆ·ä¿¡æ¯ (CSV)      â”‚
â”‚ â€¢ å¤šç§æ ¼å¼æ—¶é—´æˆ³       â”‚
â”‚ â€¢ ä¸åŒç‰ˆæœ¬å­—æ®µ        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§© æ¨¡å—ä¾èµ–å…³ç³»

```
æ¨¡å—ä¾èµ–å›¾ (Module Dependencies)

                    core_logic/encoder.py (æ ¸å¿ƒ)
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚                â”‚
        â–¼                â–¼                â–¼
core_logic/temporal.py core_logic/user_context.py core_logic/[event_modules]
        â”‚                â”‚                â”‚
        â”‚                â”‚                â”œâ”€â”€ core_logic/email.py
        â”‚                â”‚                â”œâ”€â”€ core_logic/file.py
        â”‚                â”‚                â”œâ”€â”€ core_logic/http.py
        â”‚                â”‚                â””â”€â”€ core_logic/device.py
        â”‚                â”‚                â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                    core_logic/utils.py (åŸºç¡€)
                         â”‚
                    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
                    â–¼         â–¼
        core_logic/FeatureEncoder  å·¥å…·å‡½æ•°
              
ä¾èµ–å±‚çº§:
Level 1: core_logic/utils.py (åŸºç¡€å·¥å…·å±‚)
Level 2: core_logic/temporal.py, core_logic/user_context.py, core_logic/email.py, etc. (ç‰¹å¾æå–å±‚)  
Level 3: core_logic/encoder.py (ç»Ÿä¸€æ¥å£å±‚)
```

## ğŸ“Š ç‰¹å¾å‘é‡ç»“æ„

```
ç‰¹å¾å‘é‡ç»„æˆ (Feature Vector Composition)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     256ç»´ç‰¹å¾å‘é‡ (é»˜è®¤)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ äº‹ä»¶ç±»å‹ â”‚  æ—¶é—´ç‰¹å¾  â”‚ ç”¨æˆ·ä¸Šä¸‹æ–‡ â”‚ é‚®ä»¶ç‰¹å¾ â”‚ æ–‡ä»¶ç‰¹å¾ â”‚ HTTP â”‚ è®¾å¤‡ â”‚ å¡«å…… â”‚
â”‚  (6ç»´)  â”‚   (12ç»´)   â”‚   (10ç»´)   â”‚  (9ç»´)  â”‚  (5ç»´)  â”‚(5ç»´) â”‚(2ç»´)â”‚ ... â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    0-5   â”‚   6-17    â”‚   18-27    â”‚  28-36  â”‚  37-41  â”‚42-46 â”‚47-48â”‚49-255â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç‰ˆæœ¬ç‰¹å¾å·®å¼‚:
â€¢ r4.2: åŸºç¡€ç‰¹å¾é›†
â€¢ r5.2: +é‚®ä»¶é™„ä»¶è¯¦æƒ… +æ–‡ä»¶USBä¼ è¾“ +è®¾å¤‡å†…å®¹
â€¢ r6.2: +HTTPæ´»åŠ¨ç±»å‹

maskå‘é‡:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     256ç»´å¸ƒå°”æ©ç                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Trueè¡¨ç¤ºå¯¹åº”ç‰¹å¾æœ‰æ•ˆ, Falseè¡¨ç¤ºç¼ºå¤±æˆ–æ— æ•ˆ                              â”‚
â”‚ ç”¨äºæŒ‡å¯¼æ¨¡å‹å¿½ç•¥æ— æ•ˆç‰¹å¾                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ å¤„ç†æµç¨‹è¯¦è§£

### 1. åˆå§‹åŒ–é˜¶æ®µ
```python
# from feature_extraction_scenario.core_logic.encoder import EventEncoder # ç¤ºä¾‹å¯¼å…¥
encoder = EventEncoder(feature_dim=256, data_version='r4.2')
# 1. è®¾ç½®ç‰¹å¾ç»´åº¦é…ç½®
# 2. åˆ›å»ºå„å­æ¨¡å—çš„ç‰¹å¾ç¼–ç å™¨
# 3. åˆå§‹åŒ–äº‹ä»¶ç±»å‹æ˜ å°„
```

### 2. æ‹Ÿåˆé˜¶æ®µ
```python
encoder.fit(events_df, users_df)
# 1. åˆ†æäº‹ä»¶æ•°æ®ç»Ÿè®¡ä¿¡æ¯
# 2. æ‹Ÿåˆæ•°å€¼ç‰¹å¾æ ‡å‡†åŒ–å™¨
# 3. æ‹Ÿåˆåˆ†ç±»ç‰¹å¾ç¼–ç å™¨
# 4. æ„å»ºè¯æ±‡è¡¨å’Œembedding
```

### 3. ç¼–ç é˜¶æ®µ
```python
features, mask = encoder.encode_event(event_dict, user_context)
# 1. äº‹ä»¶ç±»å‹è¯†åˆ«å’Œone-hotç¼–ç 
# 2. æ—¶é—´ç‰¹å¾æå–å’Œæ ‡å‡†åŒ–
# 3. ç”¨æˆ·ä¸Šä¸‹æ–‡ç‰¹å¾ç¼–ç 
# 4. ç‰¹å®šäº‹ä»¶ç±»å‹ç‰¹å¾æå–
# 5. ç‰¹å¾æ‹¼æ¥å’Œç»´åº¦è°ƒæ•´
# 6. ç”Ÿæˆå¯¹åº”çš„maskå‘é‡
```

## âš™ï¸ é…ç½®ç®¡ç†

### ç‰¹å¾ç»´åº¦é…ç½®
```python
# core_logic/encoder.pyä¸­çš„_get_feature_dimensions()æ–¹æ³•
def _get_feature_dimensions(self) -> Dict[str, int]:
    if self.data_version in ['r4.1', 'r4.2']:
        return {
            'temporal': 12,     # æ—¶é—´ç‰¹å¾
            'user_context': 10, # ç”¨æˆ·ä¸Šä¸‹æ–‡
            'email': 9,         # é‚®ä»¶ç‰¹å¾ 
            'file': 5,          # æ–‡ä»¶ç‰¹å¾
            'http': 5,          # HTTPç‰¹å¾
            'device': 2,        # è®¾å¤‡ç‰¹å¾
            'event_type': 6,    # äº‹ä»¶ç±»å‹
            'activity': 20      # æ´»åŠ¨ç‰¹å¾
        }
    # ... å…¶ä»–ç‰ˆæœ¬é…ç½®
```

### äº‹ä»¶ç±»å‹æ˜ å°„
```python
# core_logic/encoder.pyä¸­çš„äº‹ä»¶ç±»å‹æ˜ å°„
self.event_type_mapping = {
    'logon': 1,
    'device': 2, 
    'email': 3,
    'file': 4,
    'http': 5
}
```

## ğŸ” å¼‚å¸¸æ£€æµ‹æ¶æ„

```
å¼‚å¸¸æ£€æµ‹å­ç³»ç»Ÿ (Anomaly Detection Subsystem)

è¾“å…¥äº‹ä»¶æµ â†’ æ¨¡å¼åˆ†æ â†’ é£é™©è¯„åˆ† â†’ å¼‚å¸¸å‘Šè­¦
     â”‚           â”‚          â”‚          â”‚
     â”‚           â”‚          â”‚          â–¼
     â”‚           â”‚          â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚           â”‚          â”‚    â”‚  é£é™©ç­‰çº§     â”‚
     â”‚           â”‚          â”‚    â”‚ â€¢ ä½é£é™©     â”‚
     â”‚           â”‚          â”‚    â”‚ â€¢ ä¸­é£é™©     â”‚
     â”‚           â”‚          â”‚    â”‚ â€¢ é«˜é£é™©     â”‚
     â”‚           â”‚          â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚           â”‚          â”‚
     â”‚           â”‚          â–¼
     â”‚           â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚           â”‚    â”‚   ç»¼åˆè¯„åˆ†       â”‚
     â”‚           â”‚    â”‚ â€¢ é‚®ä»¶é£é™© 30%   â”‚
     â”‚           â”‚    â”‚ â€¢ HTTPé£é™© 30%   â”‚
     â”‚           â”‚    â”‚ â€¢ æ–‡ä»¶é£é™© 20%   â”‚
     â”‚           â”‚    â”‚ â€¢ ç”¨æˆ·é£é™© 20%   â”‚
     â”‚           â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚           â”‚
     â”‚           â–¼
     â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚      â”‚      æ¨¡å¼è¯†åˆ«            â”‚
     â”‚      â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
     â”‚      â”‚ â”‚ é‚®ä»¶å¼‚å¸¸æ¨¡å¼        â”‚ â”‚
     â”‚      â”‚ â”‚ â€¢ å¤§é‡å¤–éƒ¨é‚®ä»¶      â”‚ â”‚
     â”‚      â”‚ â”‚ â€¢ å¯æ‰§è¡Œé™„ä»¶        â”‚ â”‚
     â”‚      â”‚ â”‚ â€¢ å¼‚å¸¸å¤§é‚®ä»¶        â”‚ â”‚
     â”‚      â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
     â”‚      â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
     â”‚      â”‚ â”‚ HTTPå¼‚å¸¸æ¨¡å¼        â”‚ â”‚
     â”‚      â”‚ â”‚ â€¢ é«˜é£é™©åŸŸåè®¿é—®    â”‚ â”‚
     â”‚      â”‚ â”‚ â€¢ å¤§é‡ä¸‹è½½/ä¸Šä¼      â”‚ â”‚
     â”‚      â”‚ â”‚ â€¢ IPåœ°å€ç›´æ¥è®¿é—®    â”‚ â”‚
     â”‚      â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
     â”‚      â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
     â”‚      â”‚ â”‚ æ–‡ä»¶å¼‚å¸¸æ¨¡å¼        â”‚ â”‚
     â”‚      â”‚ â”‚ â€¢ å¤§é‡å¯æ‰§è¡Œæ–‡ä»¶    â”‚ â”‚
     â”‚      â”‚ â”‚ â€¢ USBé¢‘ç¹ä¼ è¾“       â”‚ â”‚
     â”‚      â”‚ â”‚ â€¢ ç³»ç»Ÿæ–‡ä»¶è®¿é—®      â”‚ â”‚
     â”‚      â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
     â”‚      â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
     â”‚      â”‚ â”‚ æ—¶é—´å¼‚å¸¸æ¨¡å¼        â”‚ â”‚
     â”‚      â”‚ â”‚ â€¢ éå·¥ä½œæ—¶é—´æ´»åŠ¨    â”‚ â”‚
     â”‚      â”‚ â”‚ â€¢ å¼‚å¸¸é•¿ä¼šè¯        â”‚ â”‚
     â”‚      â”‚ â”‚ â€¢ å‘¨æœ«å¤§é‡å·¥ä½œ      â”‚ â”‚
     â”‚      â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
     â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     äº‹ä»¶åˆ†ç±»            â”‚
â”‚ â€¢ email_events         â”‚
â”‚ â€¢ http_events          â”‚ 
â”‚ â€¢ file_events          â”‚
â”‚ â€¢ device_events        â”‚
â”‚ â€¢ temporal_patterns    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ æ‰©å±•æ€§è®¾è®¡

### æ–°ç‰¹å¾æ¨¡å—æ·»åŠ æµç¨‹
1. åˆ›å»ºæ–°æ¨¡å—æ–‡ä»¶ `new_feature.py`
2. å®ç°æ ‡å‡†æ¥å£:
   ```python
   def encode_new_features(event_dict, feature_encoder, data_version):
       # ç‰¹å¾æå–é€»è¾‘
       return features, mask
   ```
3. åœ¨ `encoder.py` ä¸­é›†æˆ:
   ```python
   from .new_feature import encode_new_features
   
   # åœ¨encode_eventæ–¹æ³•ä¸­æ·»åŠ è°ƒç”¨
   if event_type == 'new_type':
       event_features, event_mask = encode_new_features(...)
   ```
4. æ›´æ–°ç‰¹å¾ç»´åº¦é…ç½®
5. æ·»åŠ å¯¹åº”çš„å¼‚å¸¸æ£€æµ‹å‡½æ•°

### æ–°æ•°æ®ç‰ˆæœ¬æ”¯æŒ
1. åœ¨ `_get_feature_dimensions()` ä¸­æ·»åŠ æ–°ç‰ˆæœ¬é…ç½®
2. åœ¨å„æ¨¡å—ä¸­æ·»åŠ ç‰ˆæœ¬ç‰¹å®šçš„å¤„ç†é€»è¾‘
3. æ›´æ–°æ–‡æ¡£å’Œç¤ºä¾‹ä»£ç 

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### å†…å­˜ä¼˜åŒ–
- ä½¿ç”¨numpyæ•°ç»„è¿›è¡Œå‘é‡åŒ–è®¡ç®—
- åˆ†æ‰¹å¤„ç†å¤§é‡äº‹ä»¶
- åŠæ—¶é‡Šæ”¾ä¸éœ€è¦çš„ä¸­é—´ç»“æœ

### è®¡ç®—ä¼˜åŒ–  
- ç¼“å­˜ç¼–ç å™¨çŠ¶æ€é¿å…é‡å¤æ‹Ÿåˆ
- é¢„è®¡ç®—å¸¸ç”¨ç‰¹å¾å˜æ¢
- ä½¿ç”¨å‘é‡åŒ–æ“ä½œæ›¿ä»£å¾ªç¯

### å­˜å‚¨ä¼˜åŒ–
- æ”¯æŒç¼–ç å™¨çŠ¶æ€åºåˆ—åŒ–
- å‹ç¼©å­˜å‚¨å¤§å‹ç‰¹å¾çŸ©é˜µ
- å¢é‡æ›´æ–°æœºåˆ¶

---

è¯¥æ¶æ„è®¾è®¡ç¡®ä¿äº†ç³»ç»Ÿçš„**æ¨¡å—åŒ–**ã€**å¯æ‰©å±•æ€§**å’Œ**ç‰ˆæœ¬å…¼å®¹æ€§**ï¼Œä¸ºå†…éƒ¨å¨èƒæ£€æµ‹æä¾›äº†å¼ºå¤§è€Œçµæ´»çš„ç‰¹å¾æå–åŸºç¡€è®¾æ–½ã€‚ 