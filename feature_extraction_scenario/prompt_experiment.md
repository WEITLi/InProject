
三、实验模块设计（可选参数实验 + 对比实验 + 消融实验）
以下为实验设计任务分解，建议 Cursor 按步骤生成：

任务 1：原方法 vs 新方法对比实验

对比项目原 pipeline 与新特征提取 + GNN + Transformer 模型组合：
请实现评估指标模块，支持：
准确率（Accuracy）、精确率（Precision）、召回率（Recall）、F1 分数
AUC 曲线、PR 曲线
运行效率：训练时间、推理时间、内存占用
🔧 可设定 EXPERIMENT_MODE = baseline / improved 自动切换使用不同 pipeline。

任务 2：消融实验模块（特征组贡献）

设置控制变量实验，比较以下场景的模型性能差异：
使用原手工编码特征（feature_extraction.py）
使用自动化模块特征
组合两者
输出每种模式下的指标对比 + 特征重要性排序

任务 3：注意力权重可视化分析

从 Transformer 模型中提取每一层多头注意力值
对特征维度进行可视化分析（如热力图）
分析哪些特征类型（时间？邮件？USB？）被关注得更多
可使用 matplotlib/seaborn 绘图输出

任务 4：模型架构变体实验（head 数、层数）

支持 grid search 实验，对以下超参数组合进行网格搜索：
Transformer head 数（如 2, 4, 8）
Transformer 层数（如 2, 4, 6）
输出每个组合下的性能指标表格

任务 5：数据不平衡适应性实验

构建数据子集：
原始样本（相对平衡）
模拟 1：1、2：1、3：1、4：1、5：1的数据不平衡场景
比较以下策略：
基础模型
增加类别权重 loss
过采样（SMOTE/复制）
异常分数排序后筛前 top-k
绘制 F1 与 imbalance 比例的折线图